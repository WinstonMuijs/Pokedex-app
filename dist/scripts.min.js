let pokemonRepository=function(){let f=[];function a(a){"object"==typeof a&&"name"in a&&"detailsUrl"in a?f.push(a):console.log("It's not a Pokemon")}function b(){return f}function g(){document.querySelector(".pokeball").classList.remove("hide"),document.querySelector(".pokemon-List").classList.add("hide")}function h(){setTimeout(function(){document.querySelector(".pokeball").classList.add("hide")},100),setTimeout(function(){document.querySelector(".pokemon-List").classList.remove("hide")},500)}function c(a){d(a).then(function(){i(a)})}function d(a){return g(),fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){h(),a.imageUrlFront=b.sprites.front_shiny,a.imageUrlBack=b.sprites.back_shiny,a.height=b.height,a.types=b.types,a.weight=b.weight,a.abilities=b.abilities}).catch(function(a){h(),console.error(a)})}function i(a){let g=$(".modal-title"),h=$(".pokemon-img-front"),i=$(".pokemon-img-back"),j=$(".pokemon-height"),k=$(".pokemon-weight"),l=$(".pokemon-types"),m=$(".pokemon-types-headline"),n=$(".pokemon-abilities"),o=$(".abilities-headline");g.empty(),h.empty(),i.empty(),j.empty(),k.empty(),l.empty(),m.empty(),n.empty(),o.empty();let b=document.createElement("h1");b.innerText=a.name,b.classList.add("capitalize","font-deco");let c=document.createElement("img");c.classList.add("d-block","w-100"),c.src=a.imageUrlFront;let d=document.createElement("img");d.classList.add("d-block","w-100"),d.src=a.imageUrlBack;let p=document.createElement("p");p.innerText=a.height+" m";let q=document.createElement("p");q.innerText=a.weight+" kg";let r=document.createElement("p"),e=document.createElement("span"),s=[];a.types.forEach(function(a){s.push(" "+a.type.name)}),s.length<2?e.innerHTML+="Type:":e.innerHTML+="Types:",r.innerHTML+=s.toString();let t=document.createElement("p"),f=document.createElement("span"),u=[];a.abilities.forEach(function(a){u.push(" "+a.ability.name)}),u.length<2?f.innerHTML+="Ability:":f.innerHTML+="Abilities:",t.innerHTML+=u.toString(),g.append(b),h.append(c),i.append(d),j.append(p),k.append(q),m.append(e),l.append(r),n.append(t),o.append(f)}let j=document.querySelector(".pokemon-List"),e=document.forms["search-form"].querySelector("input");return e.addEventListener("keyup",function(a){let c=a.target.value.toLowerCase(),b=j.getElementsByTagName("li");Array.from(b).forEach(function(a){let b=a.firstElementChild.textContent;-1!=b.toLowerCase().indexOf(c)?a.style.display="block":a.style.display="none"})}),{add:a,addListItems:function(d){let e=document.querySelector(".pokemon-List"),b=document.createElement("li"),a=document.createElement("button");b.classList.add("nav-item"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModalCenter"),a.innerText=d.name,a.classList.add("btn1","group-list-item","capitalize","group-list-item-action"),b.appendChild(a),e.appendChild(b),function(a,b){a.addEventListener("click",function(){c(b)})}(a,d)},getAll:b,showDetails:c,loadList:function(){return g(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(b){h(),b.results.forEach(function(b){a({name:b.name,detailsUrl:b.url})})}).catch(function(a){h(),console.error(a)})},loadDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItems(a)})})
